---
title: AEM Link Checker を無効にする
description: 説明
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager 6.4
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Shamithru Selvan
article-created-date: 6/22/2022 1:55:19 PM
article-published-by: Shamithru Selvan
article-published-date: 6/22/2022 1:56:20 PM
version-number: 4
article-number: KA-17468
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ae18d9f1-32f2-ec11-bb3d-6045bd01576a
exl-id: 4bef4f66-061a-4cc6-b17b-5c8c2995cd34
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '406'
ht-degree: 1%

---

# AEM Link Checker を無効にする

## 説明


リンクが壊れている場合に何も実行しないようにリンクチェッカーが設定されています。 この場合、外部リンクチェッカーを無効にしてリンクを検証する方法を教えてください。 CPU プロファイリングを行い、スレッドダンプを分析する際に、リンクチェックがパフォーマンスに影響を与えているので、これをオフにしたいと思います。
<br><br><br><br> <br><br><br><br>
<b>背景</b>:  サイトがAEMに読み込まれるたびに、リンクチェッカーはすべてのコンテンツページに埋め込まれたリンクを自動的に確認し、各リンクを「有効」または「無効」としてマークします。

これにより、ログ内に多数のリンクチェッカーの警告が発生するので、インスタンスやサイトのパフォーマンスが低下する可能性があります。  一部のリンクチェックを無効にする決定をおこなうことができます。

<b>注意</b>:  リンクチェッカーを有効にしないでください <b>公開</b> インスタンス。


## 解像度

<br>リンクチェッカーを無効にする方法、またはAEMでリンクを有効としてマークするように設定する方法<br><br><br><br><br>
1. ページでのリンクチェックを無効にする：

- 追加 <b>x-cq-linkchecker=&quot;valid&quot;</b> パラメーターを使用して、リンクが常にリンクチェッカーによって有効とマークされていることを確認します。
- オプションで使用 <b>x-cq-linkchecker=&quot;skip&quot;</b> a.リンクチェッカーは有効性をチェックしません。


2. リンクチェッカーを <b>AEM Web コンソール：</b>

- AEM Web Console Configuration 1 にアクセスします。
- を検索 <b>Day CQ Link Checker Transformer.</b>
- 「<b>チェックを無効にする</b>」ボックスをクリックし、「保存」をクリックします。


3. 特定のドメインのリンクチェックを無効にする：

- AEM Web Console Configuration 1 にアクセスします。
- を検索 <b>Day CQ Link Checker Service</b>.
- を編集します。 <b>リンクチェック上書きパターン</b> パラメーター。


<b>例 1</b>:system/

システムで始まる外部リンクはチェックされません。  「+」をクリックして、このセクションに上書きパターンを追加します。

<b>例 2</b>:

これにより、すべてのリンクが有効な次のリンクとしてマークされます。

<b>推奨</b>:/var/linkchecker の下のすべてのノードを削除して、リンクチェッカーが URL を再確認するのを停止します。

1 http://host:port/system/console/configMgr



注釈:

service.special_link_patterns を使用する場合、リンクチェッカーは引き続き URL をチェックして、文字と構造の点で URL が有効かどうかを確認します。


<br><br><br><br> <br><br>外部リンクチェックをプログラムで無効にする<br><br><br><br> <br><br>
ページコンポーネント jsp にこのコードを追加すると、 <b>LinkCheckerSettings.fromRequest(slingRequest).setIgnoreExternals(true)</b>.  ほとんどの場合、オーサーインスタンスではなく、パブリッシュインスタンスでのみ実装します。  次に示すコードを示します。
<br><br><br><br><br> <br><br><br><br>

| 1<br>  2<br>  3<br>  4<br>  5<br>  6<br>  7<br>  8<br>  9<br>  10<br>  11<br>  12<br>  13<br>  14 | `%``org.apache.sling.runmode.RunMode runmode = sling.getService(org.apache.sling.runmode.RunMode.``class``);``String runmodes = runmode.getCurrentRunModes();``boolean` `isPublish =``false``;``String  expectedRunModes = {``"publish"``};``if``(runmode.isActive(expectedRunModes)) {``isPublish =``true``;``}`<br>   <br>  `if``(isPublish) {``LinkCheckerSettings s = LinkCheckerSettings.fromRequest(slingRequest);``s.setIgnoreExternals(``true``);``}``%` |
| --- | --- |

<br><br><br><br><br> <br><br>
ページの特定のコンポーネントまたは部分に対するリンクチェックのみを無効にする場合は、次のコードを使用して再度有効にできます。
<br><br><br><br><br> <br><br><br><br>

| 1<br>  2<br>  3 | `%``s.setIgnoreExternals(``false``);``%` |
| --- | --- |
