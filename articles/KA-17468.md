---
title: 「AEM Link Checker を無効にする」
description: "リンクチェッカーを無効にし、AEMでリンクを有効としてマークする方法を見つけます。"
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager 6.4"
keywords: "KCS, AEM Link Checker, experience manager, AEM"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "4/6/2024 12:41:07 AM"
article-published-by: Nayanika Chakravarty
article-published-date: "4/6/2024 12:55:48 AM"
version-number: 9
article-number: KA-17468
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=c56c0f56-aef3-ee11-904b-6045bd006b25"
source-git-commit: 009f9f5974b727d2dc0f705d3c14c34909473af6
workflow-type: tm+mt
source-wordcount: '443'
ht-degree: 11%

---

# AEM Link Checker を無効にする


この記事では、CPU プロファイリング中およびスレッドダンプの分析中にリンクチェックがパフォーマンスに影響を与える問題に対処します。

## 説明 {#description}


### <b>環境</b>

Adobe Experience Manager 6.4

### <b>問題／症状</b>

リンクが壊れたときに何の操作も行わないようにリンクチェッカーが設定されている場合、外部リンクチェッカーがリンクを検証できないようにするにはどうすればよいですか？ CPU プロファイリングを行い、スレッドダンプを分析する際、リンクチェックはパフォーマンスに影響を与え、オフにする必要があります。

<b>背景： </b> サイトがAEMに読み込まれるたびに、リンクチェッカーはすべてのコンテンツページに埋め込まれたリンクを自動的に確認し、各リンクを「有効」または「無効」としてマークします。

ログに多数のリンクチェッカー警告があるため、インスタンスまたはサイトの速度が低下する場合があります。一部のリンクチェックを無効にするために決定を行うことができます。

注意：パブリッシュインスタンスではリンクチェッカーを有効にしないでください。


## 解決策 {#resolution}


### AEM でリンクチェッカーを無効にしたり、リンクを有効としてマークするように設定する方法

1. ページでのリンクチェックを無効にする：

   - 追加 `x-cq-linkchecker="valid"` パラメーターを <b>タグ</b> を使用して、リンクが常にリンクチェッカーによって有効とマークされていることを確認します。


   - オプションで使用 `x-cq-linkchecker="skip"` （内） <b>タグ</b> リンクチェッカーは、有効性をチェックすることもできません。
2. リンクチェッカーを完全に無効にするには、 <b>AEM Web コンソール</b>:
   - AEM Web Console Configuration 1 にアクセスします。


   - を検索 <b>Day CQ Link Checker Transformer</b>.


   - 次を確認します。 <b>チェックを無効にする</b> 」ボックスをクリックし、「保存」をクリックします。
3. 特定のドメインのリンクチェックを無効にする：
   - AEM Web Console Configuration 1 にアクセスします。


   - を検索 <b>Day CQ Link Checker Service</b>.


   - を編集します。 <b>リンクチェック上書きパターン</b> パラメーター。


<b>例 1</b>: system/

システムで始まる外部リンクはチェックされません。 「+」をクリックして、このセクションに上書きパターンを追加します。

<b>例 2</b>:

これにより、すべてのリンクが有効な次のリンクとしてマークされます。

<b>推奨</b>:/var/linkchecker の下のすべてのノードを削除して、リンクチェッカーが URL を再確認するのを停止します。

{1}http://`[` ホスト`]` :`[` ポート`]` /system/console/configMgr

<b>注意： </b>service.special_link_patterns を使用する場合、リンクチェッカーは引き続き URL をチェックし、文字と構造の点で URL が有効かどうかを確認します。

<b>外部リンクチェックをプログラムで無効にする</b>

ページコンポーネント jsp にこのコードを追加すると、 `LinkCheckerSettings.fromRequest(slingRequest).setIgnoreExternals(true`. ほとんどの場合、オーサーインスタンスではなく、パブリッシュインスタンスでのみ実装します。 次に示すコードを示します。




```
<%org.apache.sling.runmode.RunMode runmode = sling.getService(org.apache.sling.runmode.RunMode.class);
String[ ]  runmodes = runmode.getCurrentRunModes();
boolean isPublish = false;
String [ ]  expectedRunModes = {"publish"};
if(runmode.isActive(expectedRunModes)) {
isPublish = true;
}

if(isPublish) {
LinkCheckerSettings s = LinkCheckerSettings.fromRequest(slingRequest);
s.setIgnoreExternals(true);
}
%>
```




ページの特定のコンポーネントまたは部分に対するリンクチェックのみを無効にする場合は、次のコードを使用して再度有効にできます。


```
<%
s.setIgnoreExternals(false);
%
```

