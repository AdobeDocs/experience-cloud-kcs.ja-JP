---
title: '"ACC:PushEvent および PushEvents SOAP 呼び出しの実行方法»'
description: 説明
solution: Campaign,Campaign Classic v7,Campaign v8
product: Campaign,Campaign Classic v7,Campaign v8
applies-to: "Campaign Classic,Campaign,Campaign Classic v7,Campaign v8"
keywords: "KCS, PushEvent，方法， PushEvent, PushEvent, SOAP 呼び出し， ACC, Adobe Campaign, Adobe Campaign Classic"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "5/26/2023 7:18:03 AM"
article-published-by: Jim Menn
article-published-date: "5/26/2023 7:22:49 AM"
version-number: 3
article-number: KA-19369
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=99a8ab72-95fb-ed11-8849-6045bd006e5a"
source-git-commit: b09e4ce82f93de5cdcadd7f96f9136fdc0720629
workflow-type: tm+mt
source-wordcount: '524'
ht-degree: 2%

---

# ACC:PushEvent および PushEvents の SOAP 呼び出しの実行方法

## 説明 {#description}

<b>環境</b>
- Campaign Classic
- Campaign
- Campaign Classic v7
- Campaign v8



<b>問題/症状 </b>
<b>前提条件：</b>

- 呼び出しをトリガーする SOAP UI をダウンロード

- WSDL のアップロード (`<` サーバー url`>` /nl/jsp/schemawsdl.jsp?schema=nms:rtEvent) を SOAP UI に

- テスト用コンピューターの IP は許可されている必要があります。許可されていない場合は、「アクセスが拒否されました」というエラーが表示されます。

- 入力する認証（通常は mc ユーザー）の有効な資格情報 *`<`urn:sessiontoken`>` login/password`<` /urn:sessiontoken`>`*




## 解決策 {#resolution}


<u>プッシュイベント：</u>

この呼び出しは、 *ユニーク*&#x200B;イベントを RT インスタンスに送信する必要があります。

テンプレート (*&quot;test&quot;* （例では）は、コントロールインスタンスから RT に正常に公開される必要があります。

In `<` *urn:domEvent*`>` 、タイプのイベント  `<` *rtEvent*`>`  は、次を使用して定義する必要があります。 *type*&#x200B;テンプレートタイプであり、 *電子メール*&#x200B;受信者の電子メールアドレスです。

In `<` ctx`>` の場合、テンプレートで使用されるすべての属性を定義する必要があります。 この例では、テンプレートに次の内容が含まれます。

``<`` `P` ``>` Your email is: `<` %= rtEvent.email %`>` `<`` `P` ``>`  -`>`  is using the attribute email directly as email in define within rtEvent`

``<`` `P` ``>` Your first name: `<` %= rtEvent.ctx.firstName %`>` `<`` `P` ``>`  -`>`  is using ctx.firstname as ctx is an inner element of rtEvent`

``<`` `P` ``>` Your last name: `<` %= rtEvent.ctx.lastName %`>` `<`` `P`>`  -`>`  is using ctx.lastname as ctx is an inner element of rtEvent`

呼び出しの例：

*`<`soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn&quot;:nms:rtEvent&quot;`>`
<br>   `<` soapenv:Header/`>`
<br>   `<` soapenv:Body`>`
<br>      `<` urn:PushEvent`>`
<br>         `<` urn:sessiontoken`>` login/password`<` /urn:sessiontoken`>`
<br>         `<` urn:domEvent`>`
<br>            `<` rtEvent type=&quot;test&quot; email=&quot;xxx@gmail.com&quot;`>`  
<br>                `<` ctx`>`
<br>                    `<` firstName`>` ABC`<` /firstName`>`
<br>                   `<` lastName`>` DEF`<` /lastName`>`
<br>                `<` /ctx`>`
<br>            `<` /rtEvent`>`
<br>         `<` /urn:domEvent`>`
<br>      `<` /urn:PushEvent`>`
<br>   `<` /soapenv:Body`>`
<br>`<` /soapenv:Envelope`>`*

成功応答：

*`<`SOAP-ENV:Envelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:ns=&quot;urn:nms:rtEvent&quot; xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV:Body`>`
<br>      `<` PushEventResponse SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent&quot;`>`
<br>         `<` plId xsi:type=&quot;xsd:long&quot;`>` 0000000000`<` /plId`>`
<br>      `<` /PushEventResponse`>`
<br>   `<` /SOAP-ENV:Body`>`
<br>`<` /SOAP-ENV:Envelope`>`*

PIID の受信とは、イベントが正常に受信され、処理中であることを意味します。



<u>プッシュイベント：</u>

この呼び出しは、トリガー時に使用されます *複数*&#x200B;イベントを RT インスタンスに追加します。

すべての要件は最初の呼び出しと同じです。

複数 `<` rtEvent`>`  は、 *`<`urn:domEventCollection`>` .*



呼び出しの例：

*`<`soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn&quot;:nms:rtEvent&quot;`>`
<br>   `<` soapenv:Header/`>`
<br>   `<` soapenv:Body`>`
<br>      `<` urn:PushEvents`>`
<br>         `<` urn:sessiontoken`>` ?`<` /urn:sessiontoken`>`
<br>         `<` urn:domEventCollection`>`
<br>            <b>`<` ! — この時点で ANY 要素を入力できます。 複数の要素が必要です —`>` </b>
<br>         `<` /urn:domEventCollection`>`
<br>      `<` /urn:PushEvents`>`
<br>   `<` /soapenv:Body`>`
<br>`<` /soapenv:Envelope`>`*

<b>注意：</b> この呼び出しで定義されている要素が 1 つだけの場合、RT インスタンスが受け取り、応答は 200 OK ですが、 <b>イベントはトリガーされず、処理もイベントに表示もされません</b> Web ログには何も表示されません。

このタイプの応答が返されます。つまり、RT に到達しましたが、何も起こりません。

*`<`SOAP-ENV:Envelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:ns=&quot;urn:nms:rtEvent&quot; xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV:Body`>`
<br>      `<` PushEventsResponse SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent&quot;`>`
<br>         `<` pdomIds xsi:type=&quot;ns:Element&quot; SOAP-ENV:encodingStyle=&quot;http://xml.apache.org/xml-soap/literalxml&quot;`>`
<br>            `<` rtEvent email=&quot;xxx@gmail.com&quot; type=&quot;test&quot;/`>`
<br>         `<` /pdomIds`>`
<br>      `<` /PushEventsResponse`>`
<br>   `<` /SOAP-ENV:Body`>`
<br>`<` /SOAP-ENV:Envelope`>`*

イベントがトリガーされない理由は、 <b>プッシュイベント</b> は、複数のイベントの場合にのみ機能します。 1 つのイベントのみで呼び出しがおこなわれる場合、 <b>プッシュイベント</b> 呼び出しが必要です。
