---
title: 外部 API アクティビティのサポート
description: 説明
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: KCS，外部 API アクティビティのサポート
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Tanay Sharma .
article-created-date: 11/28/2022 1:31:59 PM
article-published-by: Tanay Sharma .
article-published-date: 11/28/2022 1:46:02 PM
version-number: 3
article-number: KA-17853
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ad079903-216f-ed11-9562-6045bd006239
exl-id: 9a77814b-5cd3-4c61-adad-1ca1f77be2ec
source-git-commit: 75093d6221f06595d1dc5eccc365649b27f79204
workflow-type: tm+mt
source-wordcount: '200'
ht-degree: 1%

---

# 外部 API アクティビティのサポート

## 説明 {#description}

<b>0.5511122</b>
コンテンツ標準


<b>問題/症状</b>
サードパーティの REST API エンドポイントは、次の JSON 形式を受け入れてデータを渡します。

<b>実際のペイロード</b>:

`{"destination":"https://www.google.com/work/insights/123","domain":"google.com"}`



ただし、ACS は JSON 形式を変更しますが、これはサードパーティの REST API エンドポイントでは受け入れられません。

<b>変更されたペイロード</b>:

`{“data”:{"destination":"https://www.google.com/work/insights/123","domain":"google.com"}}`




## 解決策 {#resolution}




形式を使用する決定に影響を与えた要因は 2 つあります。

1. この *データ* の部分は、インバウンドがある場合にのみ追加されます *一時テーブル*&#x200B;以前のアクティビティによって生成され、そのアクティビティから行が生成される *一時テーブル*&#x200B;にシリアル化される *JSON* 配列。 したがって、以下が必要となります。 *JSON* という名前のプロパティ *データ* シリアル化されたデータがを使用して配列として送信される。
2. アクティビティを使用すると、カスタムパラメーターを API にも送信でき、API は次を使用してペイロードに追加されます *params* プロパティ。 これらは固定されています（オーサリング時にアクティビティに 1 回設定されます）。




この正規化された形式を使用すると、UI をサポートせずに固定形式を使用し、サードパーティの API 仕様に従って形式を設定する方法をカスタマイズできます。 これは、AdobeI/O ランタイムやAWS Lambda などの翻訳レイヤーを使用して、必要に応じてリクエストや応答をオンザフライで翻訳することを目的としたものです。
