---
title: Campaign Classic – から拡張フィールドにアクセスできない [!DNL JavaScript] mta で実行するコード
description: 説明
solution: Campaign
product: Campaign
applies-to: Campaign Classic
keywords: KCS
resolution: Resolution
internal-notes: Ticket = TK203929, JIRA = https://jira.corp.adobe.com/browse/NEO-20460, https://jira.corp.adobe.com/browse/NEO-20648
bug: false
article-created-by: Marta Zator
article-created-date: 5/10/2022 10:00:28 AM
article-published-by: Marta Zator
article-published-date: 5/10/2022 10:03:05 AM
version-number: 2
article-number: KA-15251
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=90301002-48d0-ec11-a7b5-00224809c101
exl-id: e39c4386-ec57-46e4-ab79-825666277de3
source-git-commit: bd49fbd51210aae11b5b1084b7ffcf3a8fbd0d5e
workflow-type: tm+mt
source-wordcount: '223'
ht-degree: 1%

---

# Campaign Classic – から拡張フィールドにアクセスできない [!DNL JavaScript] mta で実行するコード

## 説明


お客様は、 [!DNL WeChat] API およびは、そのためのカスタムコネクタを作成しました。 外部アカウントスキーマを拡張して、で使用されるパラメーターをいくつか追加しました。 [!DNL WeChat] セッショントークン列、ユーザー名などの API を使用している場合 `queryDef` ワークフローの JS アクティビティで、新しい列からデータを取り込むことができます。 ただし、このコネクタを使用して配信をトリガーにする場合、 `queryDef` 関数が新しい列を見つけることができません。 「attribute &#39;weChatToken&#39; unknown」というエラーが発生します。 つまり、このスクリプトが MTA によって実行されている場合、新しく作成された列をクエリできません。 しかし、同じスクリプトをワークフローで使用すると、データを取り込んだり、プッシュしたりできます。 このコネクタで OOTB 列をクエリすると、データを取り込むことができます。 唯一の問題は、新しく作成された列に関するものです。


## 解決策


Adobe<b> </b>エンジニアリングは、次のことを確認しました [!DNL Campaign] は、を使用して新しい列をクエリする MTA の機能をサポートしていません `queryDef` 関数。

この機能をに追加するための機能強化リクエスト [!DNL Campaign] は拒否されました。MTA でのメール、SMS、プッシュおよびカスタム API の優先順位間で重大な同時実行の問題が発生する可能性があるためです。
