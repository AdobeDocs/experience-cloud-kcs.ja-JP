---
title: Campaign Classic- MTA で実行されている JavaScript コードから拡張フィールドにアクセスできない
description: 説明
solution: Campaign
product: Campaign
applies-to: Campaign Classic
keywords: KCS
resolution: Resolution
internal-notes: Ticket = TK203929, JIRA = https://jira.corp.adobe.com/browse/NEO-20460, https://jira.corp.adobe.com/browse/NEO-20648
bug: false
article-created-by: Marta Zator
article-created-date: 5/10/2022 10:00:28 AM
article-published-by: Marta Zator
article-published-date: 5/10/2022 10:03:05 AM
version-number: 2
article-number: KA-15251
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=90301002-48d0-ec11-a7b5-00224809c101
exl-id: e39c4386-ec57-46e4-ab79-825666277de3
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '232'
ht-degree: 1%

---

# Campaign Classic- MTA で実行されている JavaScript コードから拡張フィールドにアクセスできない

## 説明


顧客が WeChat API を使用しようとしており、そのためのカスタムコネクタを作成しています。 外部アカウントスキーマを拡張し、セッショントークン列、ユーザー名など、WeChat API で使用されるパラメーターを追加しています。 ワークフローの JS アクティビティで queryDef を使用している場合、新しい列からデータを取り込むことができます。 ただし、このコネクタを使用して配信をトリガーにしている場合、queryDef 関数は新しい列を見つけることができません。 「属性「weChatToken」不明なエラーを取得しています。 つまり、このスクリプトは MTA によって実行されている場合、新しく作成された列に対してクエリを実行できません。 ただし、同じスクリプトをワークフローで使用すると、データをプル/プッシュできます。 このコネクタで OOTB 列に対してクエリを実行すると、データを取り込むことができます。 唯一の問題は、新しく作成された列です。


## 解像度


Adobe<b> </b>エンジニアリングは、Campaign が querydef 関数を使用して新しい列をクエリする MTA の機能をサポートしていないことを確認しました。

この機能を Campaign に追加するための拡張リクエストは、E メール、SMS、プッシュ、MTA のカスタム API 優先度間での重大な同時実行の問題を引き起こす可能性があるので、拒否されました。
