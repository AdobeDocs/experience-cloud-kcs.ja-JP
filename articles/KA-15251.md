---
title: 「拡張フィールドは、MTA で実行されている JavaScript コードからアクセスできません」
description: 説明
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS"
resolution: Resolution
internal-notes: "Ticket = TK203929, JIRA = https://jira.corp.adobe.com/browse/NEO-20460, https://jira.corp.adobe.com/browse/NEO-20648"
bug: false
article-created-by: Tanay Sharma .
article-created-date: "9/27/2022 9:15:06 AM"
article-published-by: Tanay Sharma .
article-published-date: "9/27/2022 9:35:23 AM"
version-number: 3
article-number: KA-15251
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=4e74a4dc-443e-ed11-9db1-002248086735"
source-git-commit: b7b1d748986178b5f9f04b9d0fa094dbe782cb44
workflow-type: tm+mt
source-wordcount: '217'
ht-degree: 1%

---

# MTA で実行されている JavaScript コードから拡張フィールドにアクセスできません

## 説明

<b>環境</b>
Campaign Classic


<b>問題/症状</b>
ユーザーがエラーを取得しています *属性「weChatToken」が不明です*&#x200B;条件：

- カスタムコネクタで WeChat API を使用し、外部アカウントスキーマを拡張して、 *WeChat API*（セッショントークン列、ユーザー名など）
- を使用する場合 `queryDef` ワークフロー内の JS アクティビティで、新しい列からデータを取り込むことができます。 ただし、このコネクタを使用して配信をトリガーする場合、 `queryDef` 関数は新しい列を見つけることができません。




つまり、MTA がこのスクリプトを実行している場合、新しく作成された列に対してクエリを実行できません。 ただし、ワークフローで使用する場合、同じスクリプトを使用してデータをプル/プッシュできます。 このコネクタで OOTB 列に対してクエリを実行すると、データを取り込むことができます。 唯一の問題は、新しく作成された列です。


## 解像度




Adobe<b> </b>エンジニアリングは、Campaign が、を使用して新しい列をクエリする MTA の機能をサポートしていないことを確認しました。 `querydef` 関数に置き換えます。



E メール、SMS、プッシュ、カスタム API 優先度間で重大な同時実行性の問題が発生する可能性があるので、この機能をキャンペーンに追加する拡張機能リクエストは拒否されました。
