---
title: 「MTA で実行している JavaScript コードから拡張フィールドにアクセスできない」
description: カスタム WeChat API コネクタを使用する際に weChatToken が不明なエラーを解決する方法を説明します。
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: 「KCS」
resolution: Resolution
internal-notes: "Ticket = TK203929, JIRA = https://jira.corp.adobe.com/browse/NEO-20460, https://jira.corp.adobe.com/browse/NEO-20648"
bug: false
article-created-by: Utkarsh Jha
article-created-date: "6/14/2024 11:43:35 AM"
article-published-by: Utkarsh Jha
article-published-date: "6/14/2024 11:52:14 AM"
version-number: 5
article-number: KA-15251
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=5684ae4f-432a-ef11-840a-000d3a5a67ba"
source-git-commit: 98933b941d846377b34c8c3aa720702f426b519a
workflow-type: tm+mt
source-wordcount: '232'
ht-degree: 3%

---

# MTA で実行している JavaScript コードから拡張フィールドにアクセスできない

## 説明 {#description}


### <b>環境</b>

Campaign Classic



### <b>問題／症状</b>

ユーザーにエラーが表示される *属性「weChatToken」が不明です*&#x200B;日時：

- カスタムコネクタで WeChat API を使用しており、で使用するパラメーターを追加するために外部アカウントスキーマを拡張しました。 *WeChat API*（セッショントークン列、ユーザー名など）。
- 使用時 `queryDef` ワークフローの JS アクティビティでは、新しい列からデータを取り込むことができます。 ただし、このコネクタを使用して配信をトリガーにする場合、 `queryDef` 関数が新しい列を見つけることができません。




つまり、MTA がこのスクリプトを実行している場合、新しく作成された列をクエリできません。 ただし、同じスクリプトをワークフローで使用すると、データを取り込んだりプッシュしたりできます。 このコネクタで OOTB 列をクエリすると、データを取り込むことができます。 唯一の問題は、新しく作成された列に関するものです。


## 解決策 {#resolution}




Adobe<b> </b>エンジニアリングにより、Campaign が次を使用して新しい列をクエリする MTA の機能をサポートしていないことが確認されました `querydef` 関数。



この機能をキャンペーンに追加する機能強化リクエストは拒否されました。その機能は、MTA でのメール、SMS、プッシュおよびカスタム API の優先順位間で重大な同時実行の問題を引き起こす可能性があるためです。
