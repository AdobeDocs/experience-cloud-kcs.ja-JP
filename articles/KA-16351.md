---
title: ACC — 外部結合データの読み込みの問題
description: 説明
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: KCS - ACC — 外部結合データの読み込みの問題
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 2:11:09 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 2:11:34 PM
version-number: 2
article-number: KA-16351
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8f266a08-6bd0-ec11-a7b5-00224809c556
exl-id: 08e00479-988e-47cb-93d0-c718d06acc52
source-git-commit: 14265e80c022cc632bdca8d17f84834e267c42d3
workflow-type: tm+mt
source-wordcount: '383'
ht-degree: 0%

---

# [ACC]  — 外部結合データの読み込みの問題

## 説明

ACC のお客様の 1 人が SQL の外部結合に問題が発生しており、これが予期した動作か、ACC のバグかを確認したいと考えていました。

お客様ごとに、nms:delivery データスキーマが次のように拡張されます。 `gsk:deliveryAnalytics` をデータモデルに組み込むことができます。 その他にも、次の 4 つのブランド関連リンクが追加されています： `gsk:deliveryAnalyticsBrandMeta` データスキーマです。

リンク名は次のとおりです。 `metaBrandLink01`, `metaBrandLink02`, `metaBrandLink03`, `metaBrandLink04`. すべて外部結合 (`externalJoin="true"`) をクリックします。

オペレーターが入力したリンクは非常にうまく機能します `@brand01-@brand04` 属性を手動で 1 回限りの配信にする。 ただし、この問題は、（繰り返し配信アクティビティなどで）配信テンプレートをベースとして配信を作成する場合に発生します。 その場合、 `@brand01-@brand04` 新しく実行された配信では、フィールドは配信テンプレートに入力されているものの、空になります。 お客様が既に確認済みの場合、入力フォームの問題ではありません。 配信テンプレートを読み込み、新しい配信にデータを挿入する際の、SQL の実行の問題と考えられます。 SQL コードで確認されています。 ユーザーが `externalJoin="false"`を参照すると、コードに正しいリンク参照が含まれていることがわかります。

パーツを選択：

```
... D30.sBrand, D30.iDeliveryAnalyticsBrandMetaId, ...
```

コードの FROM 部分：

```
FROM NmsDelivery D0 ...
JOIN GskDeliveryAnalyticsBrandMeta D30 ON (D30.sBrand = D0.sBrand01)
...
```

ただし、 `externalJoin="true"`の場合、繰り返し配信アクティビティで生成される SQL コードに含まれていません。 結果として、新しく作成した配信にブランドのフィールドが入力されません。

新しい配信をテンプレートから作成する際に、SQL コードに外部結合データが含まれない理由を知りたいと考えています。 AC のバグか、AC の動作が期待されるか。

## 解決策

私たちの専門家によれば、外部結合は何の影響も与えません。

コピーまたは繰り返しの場合に実行する操作。 テーブル拡張で新しいレコードを作成しますか？それとも、同じ行を参照するだけですか？

コピーの場合は、属性を使用して再生してみてください。 *`integrity`.*&#x200B;使用を試みる&#x200B;*`owncopy`*

2 つ目の例では、属性をコピーする際に、外部キーのコピーにする必要があります。 属性を確認します。 *`defOnDuplicate`* 外部キーの。

次に、UI から配信または配信テンプレートのコピーを作成して、属性/外部キーがコピーされているかどうかを確認します。 繰り返し配信が機能する場合も機能する必要があります。
