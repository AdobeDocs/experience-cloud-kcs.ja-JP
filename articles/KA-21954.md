---
title: "AEM OAuth フローに失敗した場合にカスタムログインページにリダイレクトする方法"
description: 説明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, AEM, OAuth flow, Custom Login Page"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "5/5/2023 2:45:34 PM"
article-published-by: Amol Mahajan
article-published-date: "5/5/2023 2:54:18 PM"
version-number: 2
article-number: KA-21954
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=4373837d-53eb-ed11-a7c6-6045bd006e5a"
source-git-commit: 3c01f3809ad59dcd828a52b90af9855f8d01cf5d
workflow-type: tm+mt
source-wordcount: '250'
ht-degree: 6%

---

# AEM OAuth フローに失敗した場合にカスタムログインページにリダイレクトする方法

## 説明 {#description}

<b>環境</b>
Experience Manager


<b>問題/症状</b>
AEM Open Authorization(OAuth) フローに失敗した場合に、Adobe Experience Manager(AEM) パブリッシュ環境のカスタムログインページにリダイレクトする方法を教えてください。


## 解決策 {#resolution}


Security Assertion Markup Language(SAML)/OAuth フローの場合、AEM認証フローにエラーがあると、デフォルトの標準 (OOTB)AEMログインページにリダイレクトされます。

したがって、カスタムの SAML/OAuth IDP ログインページにユーザーをリダイレクトする必要があります。 次の手順に従います。

1. このノードパスをコピー */libs/granite/core/content/login* から */apps/granite/core/content/login1* 以下のように。![](assets/704db5a9-53eb-ed11-a7c6-6045bd006e5a.png)
2. 次のリソースタイプを変更する： */apps/granite/core/content/login1* から <b>testservice</b>、以下に示すように。![](assets/25e0ebb5-ede4-ed11-a7c7-6045bd006a22.png)
3. の作成 `rep:policy` 次を使用した login1 のノード： <b>子を許可</b>、以下に示すように。![](assets/cc0347ce-ede4-ed11-a7c7-6045bd006a22.png)
4. の作成 <b>testservice</b> フォルダーの下 <b>/apps</b> とを追加します。 <b>sling:resourceType</b> と <b>testservice</b> を作成し、 <b>testservice.jsp</b>、以下に示すように。![](assets/aec657e1-ede4-ed11-a7c7-6045bd006a22.png)
5. OSGI 設定を開きます。 <b>AdobeGranite ログインセレクター認証ハンドラー</b> 「デフォルトのログインページ」を「 */apps/granite/core/content/login1* をクリックし、 `auth.loginselector.mappings` プロパティを使用して、保護されたパスのオーバーレイ表示されたログインページを指定します。 次を参照してください。![](assets/b45869f6-ede4-ed11-a7c7-6045bd006a22.png)
6. OSGI 設定を開きます。 <b>Apache Sling Authentication Service</b> とを追加します。 *-/apps/granite/core/content/login1* および *-/apps/testservice*&#x200B;から `sling.auth.requirements` リスト。 次を参照してください。![](assets/494fad08-eee4-ed11-a7c7-6045bd006a22.png)

