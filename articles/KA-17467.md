---
title: 「レプリケーションキューの問題」
description: 説明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager 6.4,Experience Manager 6.5"
keywords: "KCS"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: "10/20/2021 10:54:27 PM"
article-published-by: Roxann McGlumphy
article-published-date: "10/20/2021 10:57:32 PM"
version-number: 1
article-number: KA-17467
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=a8df06aa-f831-ec11-b6e5-000d3a5ba97a"
exl-id: a908b24d-9e7c-488b-946f-769708b8dd5b
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '379'
ht-degree: 1%

---

# レプリケーションキューの問題

## 説明

<br><br><br>AEMコンテンツのレプリケーションがブロックされているようです。<br><br><br><br><br><br>
編集者はコンテンツを作成できますが、アクティベートされたページは CQ5 パブリッシュインスタンスで更新されません。


## 解像度

<br><br>各レプリケーションエージェントが有効になっていて、正しく設定されていることを確認します。<br><br><br><br> <br><br>
1. レプリケーションエージェントのリスト (`/etc/replication/agents.author.html`)
2. レプリケーションエージェントごとに、以下の手順を実行します。
   - エージェントが有効になっていることを確認します。
   - 「 」をクリックして、パブリッシュインスタンスとの接続を確認します。 [!UICONTROL 接続をテスト]. 失敗した場合は、AEMオーサーインスタンスをホストするサーバーが、TCP ネットワークレベルでパブリッシュインスタンスのポートに接続できることを確認します。
   - レプリケーションログを「[!UICONTROL ログを表示]」リンクをクリックし、最後のレプリケーションが成功したタイミングを確認します。
   - レプリケーションキューの最初のペイロードパスをメモしておきます。 次に、レプリケーションキューの最初の要素をクリアしてみます。 次に、レプリケーションが再開されるかどうかを確認します。 再開したら、キューで最初に記録されたペイロードを再度アクティブにします。
   - CRX Content Explorer でチェックし、 `/bin/receive` ノードをパブリッシュインスタンス上に配置します。 それ以外の場合は、削除します。
   - CRX Content Explorer でチェックし、 `/bin/replicate` ノードを作成します。 それ以外の場合は、削除します。

<br><br><br><br> <br><br>レプリケーションエージェントと関連バンドルを再起動<br><br><br><br> <br><br>
その時点で、レプリケーションエージェントが正しく設定されていると考えることができます。 ログにレプリケーションの試行が数分間表示されない場合は、次の修正処理を試みて、キューのブロックを解除します。この順序で、レプリケーションが再開された場合は各ステップを確認します。

1. レプリケーションエージェントを無効にしてから、再度有効にします。
2. でレプリケーションバンドルを再起動します。 [!DNL Felix] コンソール (http://host:port/system/console/bundles/com.day.cq.cq-replication) を使用します。
3. を再起動します。 [!DNL Apache Sling Event Support] バンドル (http://host:port/system/console/bundles/org.apache.sling.event) を使用します。
4. を再起動します。 [!DNL Apache Felix Event Admin] (http://host:port/system/console/bundles/org.apache.felix.eventadmin)。

<br><br><br><br> <br><br>対応する [!DNL Sling] ジョブ<br><br><br><br> <br><br>
上記の処理が失敗した場合は、手動でキューをクリアすることが最後のオプションの可能性があります。

これを実現するには、 [!DNL Sling] トピック=レプリケーションエージェント名のジョブ。

これをおこなう最も簡単な方法は、CRXDE Lite(<b>http://host:port/crx/de/index.jsp</b>) をクリックし、次のノードを削除します。

<b>`/var/eventing/jobs/assigned/%INSTANCE-SLING-ID%/%REPLICATION-AGENT-FULL-ID%`</b>

例えば、デフォルトのパブリッシュエージェントを使用する場合は、次のようになります。

<b>`/var/eventing/jobs/assigned/e23dd09d-83f1-4735-a77c-394df479214c/com.day.cq.replication.job.publish`</b>

これは例外的な回避策アクションと見なされます。 [AEMサポートに連絡](https://helpx.adobe.com/jp/marketing-cloud/contact-support.html) とにかくそういう事態が起きたとしても。
