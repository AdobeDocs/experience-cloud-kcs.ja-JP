---
title: 「DM 配信出力ファイル名に対して使用/クエリできない」
description: 「mdata フィールドから outputFile を抽出する方法については、「location の添付ファイル（mData_outputFile.png）を参照してください」
solution: Campaign
product: Campaign
applies-to: "Campaign Classic,Campaign,Campaign Standard"
keywords: 「KCS - DM 配信出力ファイル名に対して使用/クエリできません」
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Utkarsh Jha
article-created-date: "6/14/2024 12:03:50 PM"
article-published-by: Utkarsh Jha
article-published-date: "6/14/2024 12:06:21 PM"
version-number: 6
article-number: KA-16234
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=a5de6f24-462a-ef11-840a-000d3a5a67ba"
source-git-commit: 14e810c24cf1f537125979167171283859cbd060
workflow-type: tm+mt
source-wordcount: '294'
ht-degree: 2%

---

# DM 配信出力ファイル名に対して使用/クエリできない

## 説明 {#description}


### 環境

- Campaign Classic
- Campaign
- Campaign Standard


### 問題/症状

mdata フィールドから、outputFile 名を抽出します。場所については、outputFile=&quot; &quot;に格納されている attachment （mData_outputFile.png）を参照してください。 これを変換する最適な方法を知りたい場合 *XML データ* キャンペーンワークフロー内でエンリッチメントされたフィールドとして渡すフィールドを入力します。 これにより、をプロモーション履歴テーブルに追加して、すべての出力ファイル名を保存できます。

mdata は XML フィールドであり、クエリ対象の DB フィールドではないので、このシナリオを実現する方法はありますか？




## 解決策 {#resolution}


この問題を解決するには、次の 2 つの方法があります。

1. ファイル抽出アクティビティを使用した配信データの抽出先 *XML* 形式。 これにより、 `mdata` も抽出されます。 その後、ファイルを読み込みアクティビティまたは JavaScript （*JS コード）* そのファイルを解析し、データを取得するアクティビティ。
2. を使用 *JS コード* アクティビティと `queryDef` 取り込む `mdata` を配信し、XML を解析します。 にデータを保存 <b>インスタンス変数</b> をトランジションに読み込みます。


シナリオ 2:

メソッドを使用しようとしています `queryDef` 対する `mdata`書き込むことができました。 解析メソッドの場合、推奨されるアプローチは何ですか？

あなたのリクエストは次のようになります：

*`<`queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;`>`*

*`<`選択`>`*

*`<`node expr=&quot;@id&quot;/`>`*

*`<`ノード expr=&quot;`[` 出力/@fileName`]` &quot; label=&quot;出力ファイル&quot;/`>`*

*`<`/select`>`*

*`<`sysFilter`>`*

*`<`条件 expr=&quot;@isModel = 0&quot;/`>`*

*`<`/sysFilter`>`*

*`<`orderBy`>`*

*`<`node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/`>`*

*`<`/orderBy`>`*

*`<`/queryDef`>`*



また、次の値が返されます。

*`<`配信コレクション`>`*

*`<`配信 id=&quot;11878415&quot;`>`*

*`<`出力ファイル名=&quot;abc.txt&quot;`>`*

*`<`/output`>`*

*`<`/delivery`>`*

*`<`/delivery-collection`>`*
