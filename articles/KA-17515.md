---
title: 'Campaign Classic：ハードウェアのサイズ変更の推奨事項'
description: 説明
solution: Campaign,Campaign Classic v7
product: Campaign,Campaign Classic v7
applies-to: Campaign Classic,Campaign Classic v7
keywords: KCS, ACC，ハードウェア，サイズ設定， Adobe Campaign Classic, Adobe Campaign Classic v7，レコメンデーション，ベストプラクティス
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: 4/17/2023 6:24:04 PM
article-published-by: Nayanika Chakravarty
article-published-date: 4/17/2023 7:06:16 PM
version-number: 5
article-number: KA-17515
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=1c7e9e05-4ddd-ed11-a7c7-6045bd006149
exl-id: 0b01e0bf-cb31-4ddb-8c55-314291e8c151
source-git-commit: d2fa8f83d50aa469fd63fe32de928ec6d5afc302
workflow-type: tm+mt
source-wordcount: '2582'
ht-degree: 59%

---

# Campaign Classic：ハードウェアのサイズ設定に関する推奨事項

## 説明 {#description}

<b>環境</b>
Adobe Campaign Classic v7


<b>問題/症状</b>
このドキュメントでは、オンプレミスのデータセンターまたは仮想化クラウド環境でのAdobe Campaign Classic v7 の導入に関する一般的な推奨事項を示します。 <b>ハイブリッド</b>または<b>ミッドソーシング</b>と呼ばれるこのタイプのデプロイメントでは、Campaign マーケティングインスタンスとマーケティングデータベースを操作のコントロール下に置き、同時に Adobe Cloud Messaging サービスを使用してメール、SMS または SMPP メッセージを送信し、メールの開封、バウンスおよびクリックの追跡データを収集します。

<b>*注意 —</b> この記事は、一般的なサンプルガイドとしてのみ提供されています。 Campaign プロジェクトを開始する前に、Adobe CampaignAdobeアカウントチームと協力して、デプロイメントの正確なサイズを測定する必要があります。 インフラストラクチャやハードウェアを取得またはデプロイする前に、これを行ってください。*

マーケティングインスタンスは、Adobe Campaign アーキテクチャの一部であり、すべてのマーケティングアクティビティを推進し、キャンペーンから返されるすべての受信者データと分析データを保存します。マーケティングインスタンスは、Adobe Campaign サービスを実行するオンプレミスサーバーのセットとリレーショナルデータベースです。

<b>*注意 —</b> 完全にホストされたAdobe Campaignインスタンス (AdobeCloud Serviceにデプロイされる ) を使用している場合、このドキュメントの情報は適用されません。*

ソフトウェアの互換性について詳しくは、 [互換性マトリックス](https://experienceleague.adobe.com/docs/campaign-classic/using/release-notes/compatibility-matrix.html?lang=en).
<b>シナリオ</b>
デプロイメント図とハードウェアのサイズに関する推奨事項は、次の 3 つの代表的なシナリオで提供されます。

1. [中規模サイズ](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-1) - システム内の 500 万人のアクティブな受信者
2. [大規模サイズ](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-2) - システム内の 2,000 万人のアクティブな受信者
3. [大規模法人](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-3) - トランザクションメッセージを使用する 5,000 万人のアクティブな受信者

<b>前提</b>
このドキュメントでは、3 つのシナリオすべてについて、次のタイプの使用方法も想定しています。

- 大規模な E メールキャンペーンは、アクティブな受信者の約 50%に週 2 回送信されます。
- ダイレクトメールは、システムの受信者ごとに 1 ヶ月に 1 回生成されます。
- SMS メッセージは、毎月、アクティブな受信者の約 10%に送信されます。
- 各受信者を定義するデータベーススキーマは、1 つの追加テーブルで拡張されています。このテーブルには、各受信者に対して約 200 バイトのデータが含まれています。
- Adobe Campaignインタラクションモジュールは、送信電子メールにオファーを追加するために使用します。
- E メールトラッキングデータは、Campaign システムに 90 日間保持されます。



## 解決策 {#resolution}

<b>一般的なガイドライン</b>
Campaign はデータベースを中心としたアプリケーションであり、データベースサーバーのパフォーマンスが重要です。 ワークフローの実行、セグメント化、データアップロードのトラッキング、インバウンドインタラクション、分析、その他のアクティビティはすべて、データベースアクティビティを生成します。一般に、これらの操作のサイズと頻度によってデータベースサーバーのサイズが決まります。

マーケティングインスタンスのアプリケーションサーバーには、ワークフローを実行し、Campaign コンソールユーザーからのリクエストを含む SOAP API 呼び出しに応答するのに十分な CPU とメモリが必要です。CPU 要件は、複雑なオファールールを伴うアウトバウンドインタラクションを使用するワークフロー、カスタム Javascript を実行するワークフロー、トラフィックレベルの高い web アプリケーションの場合に重要になる可能性があります。

Campaign web アプリケーションは、マーケティングインスタンスのアプリサーバーまたは別の web サーバーシステムにデプロイすることもできます。Web アプリケーションのワークロードは重要なワークフローや Campaign コンソールのユーザーと競合するので、web アプリケーションとインバウンドインタラクションを別のサーバーにデプロイして、Campaign のコア機能が良好なパフォーマンスで確実に実行されるようにすることができます。

セキュリティと可用性を確保するために、アドビでは、インターネットのトラフィックをビジネスユーザーが生成するトラフィックから分離することをお勧めします。そのため、図には、Web サーバー（Web1 および Web2 に接続するインターネット）と、アプリケーションサーバー（ビジネスプロセス App1 および App2）の 2 つのサーバーグループが含まれています。

商用メールの送信者は法的要件により、機能するオプトアウト web ページを用意することが求められます。アドビでは、フェイルオーバーシナリオに備えて、各グループサーバーに冗長マシンを使用することをお勧めします。これは、Adobe Campaignがオプトアウトページをホストする場合に特に当てはまります。
<br> <br><b>リバースプロキシ</b>
Campaign アーキテクチャは、HTTP 経由の SSL(HTTPS) を使用してマーケティングインスタンスとAdobeCloud Messaging 間の通信を行うことで、高いセキュリティを強化します。 マーケティングインスタンスサーバーとデータベースを分離し、保護するために、「非武装地帯」(DMZ) サブネットでリバースプロキシを使用することで、セキュリティ、信頼性、可用性が適用されます。
<br> <br><b>ロードバランサー</b>
アプリサーバーのロードバランサーは、アクティブ/パッシブ設定で設定され、プロキシで HTTPS が終了します。 Web サーバーのロードバランサーは、プロキシで終端する HTTPS を使用して、アクティブ／アクティブ設定で指定されます。

Adobeには、デプロイメント環境でAdobe Campaignサーバーに中継できる URL パスの排他的なリストが用意されています。
<br> <br><b>アーキテクチャ</b>
一般的なアーキテクチャは、ボリュームに関係なくほぼ同じです。 セキュリティと高可用性の要件により、少なくとも 4 台のサーバー、web アプリを使用しない場合は 2 台のサーバーが必要です。設定の違いは、主に CPU コアやメモリなどのハードウェア設定が異なります。

<u>シナリオ 1：モデレートサイズのデプロイメント</u>

![](https://experienceleague.adobe.com/docs/campaign-classic/assets/scenario-1.png?lang=en)

<u>推定ボリューム</u>


| チャネル | ボリューム |
| --- | --- |
| アクティブな受信者 | 500 万 |
| メール | 420 万/月 |
| ダイレクトメール | 100 万/月 |
| モバイル SMS | 100,000/月 |
| 1 日あたりのメールのピーク量 | 500 |


これらのボリュームの場合は、Adobe Campaign アプリケーションサーバーシステムのペアが、Adobe Campaign クライアントユーザーとワークフローの実行に対してすべての機能を提供します。500 万人のアクティブな受信者とこの量のメールの場合、アプリケーションサーバーのワークロードは CPU や I/O を集中的に使用しません。ストレスのほとんどはデータベースにかかっています。

Adobe Campaign Web サーバーは、セキュアゾーンに表示されます。
<br> <br><b>Web およびアプリケーションサーバー</b>
このシナリオでは、次の仕様で、4 台のマシンにAdobe Campaignをインストールすることをお勧めします。

*3Ghz+ クアッドコア CPU、8-GB RAM、RAID 1 または 10、2 x 80-GB SSD*

これらのシステムでは、Campaign コンソールユーザーを直接サポートし、キャンペーンワークフローを実行するマーケティングインスタンスアプリケーションサーバーを作成します。

DMZ 内のリバースプロキシは、Adobe Campaign Web サーバーへのトラフィックを負荷分散します。プロキシマシンに Adobe Campaign ソフトウェアスタックをインストールする必要はありません。任意のリバースプロキシソフトウェアまたはネットワーク機器を使用できます。

購読のオプトイン／オプトアウトおよび環境設定センターの機能は、Campaign または独自の web サイトで提供できます。この機能を web サイトに実装することを選択した場合は、環境設定および購読情報が Campaign マーケティングデータベースに確実に生成されるようにする必要があります。これを行うには通常、キャンペーンワークフローによって自動的にアップロードされる抽出ファイルを作成します。

アプリケーションサーバーでのディスク容量の消費は、サードパーティのサービスプロバイダー（ダイレクトメール用の印刷ベンダーなど）と交換するファイルの保持期間、Web サイトからの購読や環境設定の更新、独自の CRM やマーケティングシステムからの抽出などのインポート済みフラットファイルのサイズと保持に依存します。
<br> <br><b>データベース</b>
データベースサーバのハードウェアの推奨事項は次のとおりです。

*3Ghz+ 4 コア CPU、16-GB RAM、RAID 1 または 10、128GB SSD 以上*

メモリの予測値は、大規模なキャンペーン立ち上げのための約 500,000 人の受信者の完全なキャッシュに加えて、ワークフローの実行、トラッキングデータのインポート、その他の同時アクティビティのための RDBMS バッファースペースを前提としています。

すべての Adobe Campaign 技術データ（キャンペーン、トラッキング、作業用テーブルなど）を保存するためにデータベースに必要なディスクスペースは、3 か月の保持期間に基づいて約 35 GB と予測されます。トラッキングデータを 6 か月保持することを選択した場合、データベースサイズは約 40 GB に増加し、保持期間が 12 か月の場合はデータベースサイズは約 45 GB に増加します。この環境では、受信者データに約 5 GB 使用します。

<b>*注意 — </b><b>この見積もりには、追加の顧客データは含まれません。 顧客データの追加の列またはテーブルを Adobe Campaign データベースにレプリケートすることを計画している場合は、必要な追加のディスクスペースを予測する必要があります。アップロードされたセグメント/リストも、サイズ、頻度、保持期間に応じて、より多くのストレージが必要になります。*

また、毎日処理される情報量により、データベースサーバーの IOPS が重要であることも考慮してください。例えば、ピーク日に、合計 500,000 人の受信者をターゲットにしたキャンペーンをデプロイできます。各キャンペーンを実行するために、Adobe Campaign では、約 1,200 万レコードを含むテーブル（配信ログテーブル）に 500,000 レコードを挿入します。キャンペーンのデプロイメント中に許容可能なパフォーマンスを提供するために、アドビでは、このシナリオで少なくとも 60,000 の 4 KB ランダム読み取り／書き込み IOPS をお勧めします。

<u>シナリオ 2：大規模なデプロイメント</u>

![](https://experienceleague.adobe.com/docs/campaign-classic/assets/scenario-2.png?lang=en)

<u>推定ボリューム</u>


| チャネル | ボリューム |
| --- | --- |
| アクティブな受信者 | 2,000 万 |
| メール | 4,200 万/月 |
| ダイレクトメール | 1,000 万/月 |
| モバイル SMS | 1,000,000/月 |
| 1 日あたりのメールのピーク量 | 5,000,000 |

</b>Web およびアプリケーションサーバー<b>
このシナリオでは、Adobeは、次の仕様のAdobe Campaignを 4 台のマシン、2 台のアプリケーションサーバー、2 台の Web サーバーにインストールすることを推奨します。

*3Ghz+ クアッドコア CPU、8-GB RAM、RAID 1 または 10、80-GB SSD*

アプリケーションサーバーでは、Campaign コンソールユーザーとキャンペーンワークフローの実行を直接サポートします。この機能は、高可用性を実現するために 2 台の同一のサーバーにデプロイされ、ネットワーク接続ストレージ（NAS）ファイルシステムを共有してフェイルオーバーを可能にします。

Web サーバーでは、システム内の 1,000 万人のアクティブな受信者をサポートする Campaign web アプリケーションをホストします。

参照： [シナリオ 1：モデレートサイズのデプロイメント](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-1) プロキシ、プリファレンスセンター/サブスクリプションの処理、ディスク容量の使用に関するコメントを追加しました。
<br> <br></b>データベース<b>
データベースサーバのハードウェアの推奨事項は次のとおりです。

*3Ghz+ 8 コア CPU、64-GB RAM、RAID 1 または 10、2 x 320-GB SSD または RAID 10、640 GB SSD 以上*

メモリの予測値は、大規模なキャンペーンの開始のために約 5,000,000 人の受信者の完全なキャッシュに加えて、ワークフローの実行、トラッキングデータのインポート、その他の同時アクティビティのための RDBMS バッファースペースを前提としています。

すべての Adobe Campaign 技術データ（キャンペーン、トラッキング、作業用テーブルなど）を保存するためにデータベースに必要なディスクスペースは、3 か月の保持期間に基づいて約 280 GB と予測されます。トラッキングデータを 6 か月間保持することを選択した場合、データベースサイズは約 450 GB に増加し、12 か月の保持ではデータベースサイズは約 900 GB に増加します。この環境では、受信者データは約 15 GB を使用します。

<u>シナリオ 3:Message Center を使用した企業へのデプロイメント</u>

![](https://experienceleague.adobe.com/docs/campaign-classic/assets/scenario-3.png?lang=en)

<u>推定ボリューム</u>


| チャネル | ボリューム |
| --- | --- |
| アクティブな受信者 | 5,000 万 |
| メール | 1 億 800 万／月 |
| ダイレクトメール | 2,500 万/月 |
| モバイル SMS | 250 万/月 |
| トランザクションメッセージ | 250 万/月 |
| 1 日あたりのメールのピーク量 | 250 万 |


5,000 万人の受信者をサポートするデプロイメントは、基本的に [シナリオ 2](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-2). Campaign Web アプリケーショントラフィックは Campaign Web サーバーにルーティングされるので、大規模なキャンペーンの起動後の Web トラフィックのバーストは Campaign ワークフローやクライアントコンソールユーザーに影響しません。

このデプロイメントには、Web サイトやアプリケーションから実行される Message Center 呼び出しも含まれます。
<br> <br></b>Web およびアプリケーションサーバー<b>
このシナリオでは、Adobeは、次のように、4 台のマシンにAdobe Campaignをインストールすることをお勧めします。

- <u>アプリケーションサーバー</u>

  *2 台のシステム、3Ghz+ クアッドコア CPU、8-GB RAM、RAID 1 または 10、80-GB SSD*
- <u>Web サーバー</u>

  *2 台のシステム、3Ghz+ クアッドコア CPU、16-GB RAM、RAID 1 または 10、80-GB SSD*


アプリケーションサーバーでは、Campaign コンソールユーザーとキャンペーンワークフローの実行を直接サポートします。この機能は、高可用性を実現するために 2 台の同一のサーバーにデプロイされ、ネットワーク接続ストレージ（NAS）ファイルシステムを共有してフェイルオーバーを可能にします。

Web サーバーでは、システム内の 1,000 万人のアクティブな受信者をサポートする Campaign web アプリケーションをホストします。

参照： [シナリオ 1：モデレートサイズのデプロイメント](https://experienceleague.adobe.com/docs/campaign-classic/using/technotes/hardware-sizing.html?lang=en#scenario-1) プロキシ、プリファレンスセンター/サブスクリプションの処理、ディスク容量の使用に関するコメントを追加しました。
<br> <br></b>データベース<b>
データベースサーバのハードウェアの推奨事項は次のとおりです。

*3Ghz+ 8 コア CPU、96-GB RAM、RAID 1 または 10、1.5TB SSD 以上*

メモリの予測値は、大規模なキャンペーンの開始のために約 12,500,000 人の受信者の完全なキャッシュに加えて、ワークフローの実行、トラッキングデータのインポート、その他の同時アクティビティのための RDBMS バッファースペースを前提としています。

すべての Adobe Campaign 技術データ（キャンペーン、トラッキング、作業用テーブルなど）を保存するためにデータベースで必要なディスクスペースは、3 か月の保持期間に基づいて約 700 GB と予測されます。トラッキングデータを 6 か月間保持することを選択した場合、データベースサイズは約 1.2 TB に増加し、12 か月の保持ではデータベースサイズは約 2 TB に増加します。この環境では、受信者データは約 50 GB を使用します。


</b>前提条件の変更に関するガイドライン<b>
これらのシナリオに対して行われた前提は、ハードウェアの推奨事項と導入アーキテクチャに大きな影響を与えます。 この節では、様々な前提条件に関するガイドラインについて説明します。要件を満たす具体的なレコメンデーションについては、Adobe Campaign コンサルティングチームにお問い合わせください。

- </b>受信者数<b>

  アクティブな受信者には、ストレージ領域とデータベースバッファ領域の両方が必要なので、より多くの受信者は通常、データベースサーバー上でより多くのメモリと CPU 容量を必要とします。 ストレージの増加は、受信者自身にとっては比較的わずかですが、メールキャンペーン用に保持されるイベントトラッキングデータにとっては重要になる可能性があります。
- </b>メールキャンペーンサイズ<b>

  キャンペーンの起動頻度は、データベースサーバーの CPU 要件に影響を与えます。 ダイレクトメール、インバウンドインタラクション、その他のワークフローと組み合わせると、メールキャンペーンのセグメント化操作ではデータベースサーバーに大きな負荷がかかります。
- </b>ダイレクトメールの頻度<b>

  ダイレクトメールの頻度は、データベースサーバーの CPU 要件に影響を与える可能性があります。 ダイレクトメールのセグメント化操作にキャンペーンのローンチや他のワークフローが組み合わせられると、データベースサーバーに大きな負荷がかかります。
- </b>SMS メッセージボリューム<b>

  E メールキャンペーンのサイズと同様に、SMS メッセージの量では、オンプレミスの Campaign サーバーに大きな負荷が置かれません。読み込みの多くは、クラウド上のAdobeCloud Messaging サーバーに置かれます。 メールやダイレクトメールなどの SMS キャンペーンのセグメント化では、マーケティングデータベースに大きな負荷がかかる可能性があります。したがって、SMS メッセージの量よりも、SMS キャンペーンのローンチ頻度とセグメント化の複雑さが関係します。
- </b>データベーススキーマの複雑さ<b>

  各アクティブな受信者のデータ量には、ストレージ容量とデータベースバッファ容量の両方が必要なので、一般的に、より多くの受信者はデータベースサーバー上でより多くのメモリと CPU を必要とします。 複雑なスキーマでは、セグメント化用に結合するテーブルも多くなるので、セグメント化操作の実行時間が大幅に長くなり、データが複数のテーブルに分散される場合に、より多くのデータベース CPU とメモリが必要になります。
データベースサーバーのメモリは、すべての受信者データ、ワークフローを実行するための一時テーブル、他のデータベース操作のためのマージンを含めるのに十分な大きさのデータベースバッファープールを確保することによって予測されます。
- </b>アウトバウンドインタラクションの使用状況<b>

  バッチモードでのインタラクションのルールは、計算の複雑さをすべてデータベースに引き継ぐワークフローで評価されます。 データベースの取り組みの主な要因は、1 回のエンジン呼び出し中に計算される、実施要件を満たすオファーの合計数（N 個の最適なオファーを保持する前の受信者ごとのターゲットサイズ X 平均オファー数）です。データベースサーバーの CPU 速度は、パフォーマンスの最初の要因です。
- </b>インバウンドインタラクションまたは SOAP API の使用<b>

  インバウンドインタラクションルールとオファーはマーケティングデータベースで評価され、データベースサーバーリソース（特に CPU）が大量に必要となります。 インバウンドインタラクションまたは SOAP API を頻繁に使用する場合は、作業負荷を Campaign ワークフローの実行から分離するために別の web サーバーが必要になります。
- </b>トラッキングデータ保持期間<b>

  トラッキングデータの保持期間を 90 日以上に増やすと、データベースの容量が増え、新しいトラッキングデータを大きなテーブルに挿入するので、システムの速度が低下する可能性があります。 トラッキングデータは、90 日後にキャンペーンをセグメント化する場合は役に立たないので、保持期間を短くすることをお勧めします。
受信者のマーケティングエクスペリエンスを長期的に分析する必要がある場合は、トラッキングデータを Adobe Analytics または別の分析システムに移動する必要があります。

</b>仮想化<b>
すべての Campaign サーバは仮想化に適しています。 適切な可用性とパフォーマンスを確保するには、いくつかの問題に対処する必要があります。

- </b>フェイルオーバー設定<b>

  クラスタ化されたサーバ（負荷分散プロキシの下の冗長なアプリケーションサーバなど）は、ハードウェア障害が発生した場合に両方の VM が停止しないように、別のハードウェアにデプロイする必要があります。
- </b>I/O 設定<b>

  ストレージデバイスを失ってもデータが失われないように、推奨される RAID 構成は、データベースのセキュリティを維持する必要があります。
- </b>I/O パフォーマンス<b>

  データベースストレージの推奨 IOPS 評価は考慮する必要があります。 Amazon EC2 などのクラウドサービスは、必要なパフォーマンスを提供しない可能性があるので、慎重に評価する必要があります。例えば、Amazon EC2 でプロビジョニングされた SSD ボリュームは現在、それぞれ 20,000 IOPS と評価されています。詳しくは、 [Amazonドキュメント](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html)したがって、4 ボリュームの RAID 構成は 80,000 IOPS と評価され、十分ではない可能性があります。


アドビでは、システムを実稼動環境に導入する前に、Adobe Campaign の仮想化デプロイメントのパフォーマンステストを行うことをお勧めします。
