---
title: Oak ログイントークンのセッション有効期限の設定方法
description: 説明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager Forms,Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "From: helpx.adobe.com/experience-manager/kb/How-to-set-token-session-expiration-AEM.html"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 9:46:12 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 9:52:33 PM"
version-number: 3
article-number: KA-16464
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=1f76a130-6a87-eb11-a812-000d3a593216"
exl-id: 46a5d421-add7-433d-b484-832508364660
source-git-commit: a59847e2e7e37f432cb01150b9444cd9dbf585df
workflow-type: tm+mt
source-wordcount: '182'
ht-degree: 2%

---

# Oak ログイントークンのセッションの有効期限を設定する方法

## 説明

AEMの login-token cookie の有効期限を設定する方法を教えてください。 このトークンは、デフォルトのAEM認証（トークン認証）および SAML ベースの認証のセッションのタイムアウトに影響します。

<b>環境</b>

AEM 6.\*

## 解像度

トークンの設定に関する詳細なドキュメントについては、 [api ドキュメント](https://jackrabbit.apache.org/oak/docs/apidocs/org/apache/jackrabbit/oak/security/authentication/token/TokenConfigurationImpl.html).

1. に移動します。 <b>http://aem-host:port/system/console/configMgr/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl</b> 管理者としてログインします。
1. トークン設定の値を編集します。
   1. <b>トークンの有効期限</b>=目的のタイムアウト値をミリ秒単位で設定します ( 例えば、3600000は 1 時間です )
   1. <b>トークンの長さ</b>=8
   1. <b>ハッシュの反復</b>=1000
   1. <b>ハッシュソルトサイズ</b>=8

   <b>注意：</b> この *デフォルトのトークン有効期限*&#x200B;の場合、AEMは43200000 ms（12 時間）です。

1. 次に、 <b>TokenConfiguration</b> OSGi コンソールから、 <b>ファイル `/apps/system/config/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.config`</b> が JCR リポジトリに作成されます。
1. に移動します。 <b>http://aem-host:port/crx/de/index.jsp</b>
1. このファイルを参照して開きます。 <b>`/apps/system/config/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.config`</b>
1. フィールド <b>`passwordHashAlgorithm`</b> がファイルに存在する場合は、その行を削除して保存します。 例えば、ファイルは次のようになります。

   ```
    passwordHashIterations=I"1000"
   
    tokenExpiration="3600000"
   
    tokenLength="8"
   
    passwordSaltSize=I"8"
   ```
