---
title: "Adobe Experience Manager: AEM Cloud Serviceフロントエンドパイプラインの BUILD_NPM_AUDIT_ERROR を解決する方法"
description: 説明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: 「KCS」
resolution: Resolution
internal-notes: "E-001037633"
bug: false
article-created-by: Ingyu Eum
article-created-date: "3/18/2024 9:31:04 AM"
article-published-by: Ingyu Eum
article-published-date: "3/18/2024 9:34:16 AM"
version-number: 1
article-number: KA-23912
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ed0d093c-0ae5-ee11-904d-6045bd006704"
source-git-commit: 851503137637dd240d1de878e0639a4b3d3f87d4
workflow-type: tm+mt
source-wordcount: '322'
ht-degree: 3%

---

# Adobe Experience Manager:AEM Cloud Serviceフロントエンドパイプラインの BUILD_NPM_AUDIT_ERROR を解決する方法

## 説明 {#description}


フロントエンドパイプラインの最初の実行が内部エラーで失敗します。

エラーメッセージ： Cloud Manager は、高速フロントエンドパイプラインのデプロイメント中に内部エラーが発生しました。 この問題が繰り返し発生する場合は、Adobeサポートに問い合わせてください。

build.log に BUILD_NPM_AUDIT_ERROR があります。

build.log: 01:23:34.567 `[` メイン`]`  INFO c.a.p.e.s.b.s.CommandLineServiceImpl - Executing command npm —progress false audit —production —audit-level=critical 01:23:34.567 `[` メイン`]`  INFO c.a.p.e.s.b.s.CommandLineServiceImpl — 実行中： `[` npm, —progress, false, audit, —production, —audit-level=critical`]`
npm ERR! 未定義のプロパティ「jquery」を読み取れません

npm ERR! この実行の完全なログは、次の場所で確認できます。 npm ERR!/root/.npm/_logs/1234-56-78T91_23_45_678Z-debug.log 01:23:34.567 `[` メイン`]`  DEBUG c.a.p.e.s.b.s.w.AbstractBuildWorkflowService — リポジトリにステップビルド用のデフォルトの errorCode BUILD_NPM_AUDIT_ERROR を格納します。 `<` site-name`>`
01:23:34.567 `[` メイン`]`  INFO c.a.p.e.s.b.s.w.NpmBuildWorkflowService - IOException が原因でパイプラインのビルドとスキャンが中断されました。
org.apache.commons.exec.ExecuteException：プロセスは次のエラーで終了しました： 1 （終了値： 1） at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)

この記事では、この問題の解決方法を説明します。

<b>環境</b>
AEMas a Cloud Service


## 解決策 {#resolution}


ドキュメントの説明に従って、AEMプロジェクトコード内の次の 2 つのノードを削除します。`[` 1`]` :

・/conf/`<` site-name`>` /sling:configs/com.adobe.aem.wcm.site.manager.config.SiteConfig ・/conf/`<` site-name`>` /sling:configs/com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig

フロントエンドパイプラインは SiteConfig ノードを展開済みのテーマのパッケージ名で更新しますが、パッケージ名と SiteConfig の設定が異なる場合は失敗します。

詳細は以下のとおりです。

手順 1.次のパスにある.content.xml ファイルを確認します。 /ui.content/src/main/content/jcr_root/conf/__appId__/_sling_configs/

手順 2.次の 2 つのノード定義を削除します。
- SiteConfig:
  `<` com.adobe.aem.wcm.site.manager.config.SiteConfig jcr:primaryType=&quot;nt:unstructured&quot; siteTemplatePath=&quot;/libs/wcm/core/site-templates/aem-site-template-stub-2.0.0&quot; themePackageName=&quot;${appId}&quot;/`>`

- HtmlPageItemsConfig:
  `<` com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig jcr:primaryType=&quot;cq:Page&quot;`>`
・・・・
  `<` /com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig`>`

手順 3.Cloud Manager でフロントエンドパイプラインを再実行します。

手順 3 の結果、AEMはこれらの設定ノードを正しく再作成します。 パイプラインは後で成功します。

`[` 1`]`  フロントエンドパイプラインの有効化https://experienceleague.adobe.com/ja/docs/experience-manager-cloud-service/content/sites/administering/site-creation/enable-front-end-pipeline#technical-details
